CREATE OR REPLACE FUNCTION F_VALIDAREXISTENCIALECCION(FECHA_IN DATE, ID_ASIGNATURA_IN NUMBER) RETURN NUMBER
IS 
    VALIDADOR_LECCION NUMBER;
BEGIN
	 SELECT ID_LECCION INTO VALIDADOR_LECCION FROM LECCIONARIO WHERE FECHA=FECHA_IN AND ID_ASIGNATURA = ID_ASIGNATURA_IN;
	 IF VALIDADOR_LECCION > 0 THEN
	 	RETURN -1; -- LECCION YA EXISTE, DEBO UPDATEAR
	 ELSE
	 	RETURN 0; --LECCION NO EXISTE, INSERTO
    END IF;
EXCEPTION WHEN NO_DATA_FOUND THEN
	RETURN 0;
WHEN OTHERS THEN
	RETURN -1;
END;